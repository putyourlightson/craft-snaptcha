{% extends '_layouts/message' %}

{% set title = settings.errorTitle %}

{% js %}
    document.getElementById('warning').remove();
    document.getElementById('error').classList.remove('hidden');
    setTimeout(function() {
        document.getElementById('graphic').remove();
        document.getElementById('resubmit').classList.remove('disabled');
    }, {{ (settings.minimumSubmitTime * 1000) + random(1, 100) }});
{% endjs %}

{% block message %}

    <h2>{{ settings.errorTitle }}</h2>

    <p id="error" class="hidden">
        {{ settings.errorMessage }}
    </p>

    <p id="warning" class="warning">
        {{ settings.errorJavascriptDisabled }}
    </p>

    <form action="" method="post">
        {% for name, value in postedValues if name != 'snaptcha' %}
            <input type="hidden" name="{{ name }}" value="{{ value }}">
        {% endfor %}

        {{ craft.snaptcha.field }}

        <button id="resubmit" type="submit" class="btn submit disabled" style="font-weight: bold; text-transform: uppercase;">
            {{ settings.errorButtonText }}
        </button>
        <div id="graphic" class="spinner"></div>
    </form>

{% endblock %}
